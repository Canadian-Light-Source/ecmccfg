###############################################################################################
# For help on syntax, variables and functions, please read the file: "plcSyntaxHelp.plc"
#   In total 8 colors cominations can be set by combining the RGB outputs

if(plc${PLC_ID}.firstscan) {
  # 1. Red
  ec0.s${SLAVE_ID}.binaryOutput01_RED:=1;
  # 2. Green
  ec0.s${SLAVE_ID}.binaryOutput02_GREEN:=1;
  # 3. Blue
  ec0.s${SLAVE_ID}.binaryOutput03_BLUE:=1;
  # 4. Red/Green
  ec0.s${SLAVE_ID}.binaryOutput04_RED:=1;
  ec0.s${SLAVE_ID}.binaryOutput04_GREEN:=1;
  # 5. Red/Green/Blue
  ec0.s${SLAVE_ID}.binaryOutput05_RED:=1;
  ec0.s${SLAVE_ID}.binaryOutput05_GREEN:=1;
  ec0.s${SLAVE_ID}.binaryOutput05_BLUE:=1;
  # 6. Red/Blue
  ec0.s${SLAVE_ID}.binaryOutput06_RED:=1;
  ec0.s${SLAVE_ID}.binaryOutput06_BLUE:=1;
  # 7. Green/Blue
  ec0.s${SLAVE_ID}.binaryOutput07_GREEN:=1;
  ec0.s${SLAVE_ID}.binaryOutput07_BLUE:=1;
  # 8. No light

  static.start:=0;
};

# Start flashing if pushbutton pressed
if(ec0.s${SLAVE_ID}.binaryInput01 or 
   ec0.s${SLAVE_ID}.binaryInput02 or
   ec0.s${SLAVE_ID}.binaryInput03 or
   ec0.s${SLAVE_ID}.binaryInput04 or
   ec0.s${SLAVE_ID}.binaryInput05 or
   ec0.s${SLAVE_ID}.binaryInput06 or
   ec0.s${SLAVE_ID}.binaryInput07 or
   ec0.s${SLAVE_ID}.binaryInput08 or
   ec0.s${SLAVE_ID}.binaryInput09 or
   ec0.s${SLAVE_ID}.binaryInput010) {
  static.start:=1;
};

if(not(static.start)) {
  return [];
};

static.counter:=static.counter+1;
if(static.counter<10) {
  ec0.s${SLAVE_ID}.binaryOutput01_RED:=1;
  ec0.s${SLAVE_ID}.binaryOutput02_RED:=1;
  ec0.s${SLAVE_ID}.binaryOutput03_RED:=1;
  ec0.s${SLAVE_ID}.binaryOutput04_RED:=1;
  ec0.s${SLAVE_ID}.binaryOutput05_RED:=1;
  ec0.s${SLAVE_ID}.binaryOutput06_RED:=1;
  ec0.s${SLAVE_ID}.binaryOutput07_RED:=1;
  ec0.s${SLAVE_ID}.binaryOutput08_RED:=1;
  ec0.s${SLAVE_ID}.binaryOutput09_RED:=1;
  ec0.s${SLAVE_ID}.binaryOutput010_RED:=1;
} else if(static.counter<20) {
  ec0.s${SLAVE_ID}.binaryOutput01_GREEN:=1;
  ec0.s${SLAVE_ID}.binaryOutput02_GREEN:=1;
  ec0.s${SLAVE_ID}.binaryOutput03_GREEN:=1;
  ec0.s${SLAVE_ID}.binaryOutput04_GREEN:=1;
  ec0.s${SLAVE_ID}.binaryOutput05_GREEN:=1;
  ec0.s${SLAVE_ID}.binaryOutput06_GREEN:=1;
  ec0.s${SLAVE_ID}.binaryOutput08_GREEN:=1;
  ec0.s${SLAVE_ID}.binaryOutput07_GREEN:=1;
  ec0.s${SLAVE_ID}.binaryOutput09_GREEN:=1;
  ec0.s${SLAVE_ID}.binaryOutput010_GREEN:=1;
} else if(static.counter<30) {
  ec0.s${SLAVE_ID}.binaryOutput01_BLUE:=1;
  ec0.s${SLAVE_ID}.binaryOutput02_BLUE:=1;
  ec0.s${SLAVE_ID}.binaryOutput03_BLUE:=1;
  ec0.s${SLAVE_ID}.binaryOutput04_BLUE:=1;
  ec0.s${SLAVE_ID}.binaryOutput05_BLUE:=1;
  ec0.s${SLAVE_ID}.binaryOutput06_BLUE:=1;
  ec0.s${SLAVE_ID}.binaryOutput08_BLUE:=1;
  ec0.s${SLAVE_ID}.binaryOutput07_BLUE:=1;
  ec0.s${SLAVE_ID}.binaryOutput09_BLUE:=1;
  ec0.s${SLAVE_ID}.binaryOutput010_BLUE:=1;
} else if(static.counter<40) {  
  ec0.s${SLAVE_ID}.binaryOutput01_RED:=0;
  ec0.s${SLAVE_ID}.binaryOutput02_RED:=0;
  ec0.s${SLAVE_ID}.binaryOutput03_RED:=0;
  ec0.s${SLAVE_ID}.binaryOutput04_RED:=0;
  ec0.s${SLAVE_ID}.binaryOutput05_RED:=0;
  ec0.s${SLAVE_ID}.binaryOutput06_RED:=0;
  ec0.s${SLAVE_ID}.binaryOutput07_RED:=0;
  ec0.s${SLAVE_ID}.binaryOutput08_RED:=0;
  ec0.s${SLAVE_ID}.binaryOutput09_RED:=0;
  ec0.s${SLAVE_ID}.binaryOutput010_RED:=0;
  ec0.s${SLAVE_ID}.binaryOutput01_GREEN:=0;
  ec0.s${SLAVE_ID}.binaryOutput02_GREEN:=0;
  ec0.s${SLAVE_ID}.binaryOutput03_GREEN:=0;
  ec0.s${SLAVE_ID}.binaryOutput04_GREEN:=0;
  ec0.s${SLAVE_ID}.binaryOutput05_GREEN:=0;
  ec0.s${SLAVE_ID}.binaryOutput06_GREEN:=0;
  ec0.s${SLAVE_ID}.binaryOutput07_GREEN:=0;
  ec0.s${SLAVE_ID}.binaryOutput08_GREEN:=0;
  ec0.s${SLAVE_ID}.binaryOutput09_GREEN:=0;
  ec0.s${SLAVE_ID}.binaryOutput010_GREEN:=0;
  ec0.s${SLAVE_ID}.binaryOutput01_BLUE:=0;
  ec0.s${SLAVE_ID}.binaryOutput02_BLUE:=0;
  ec0.s${SLAVE_ID}.binaryOutput03_BLUE:=0;
  ec0.s${SLAVE_ID}.binaryOutput04_BLUE:=0;
  ec0.s${SLAVE_ID}.binaryOutput05_BLUE:=0;
  ec0.s${SLAVE_ID}.binaryOutput06_BLUE:=0;
  ec0.s${SLAVE_ID}.binaryOutput07_BLUE:=0;
  ec0.s${SLAVE_ID}.binaryOutput08_BLUE:=0;
  ec0.s${SLAVE_ID}.binaryOutput09_BLUE:=0;
  ec0.s${SLAVE_ID}.binaryOutput010_BLUE:=0;
} else {
  static.counter:=0;
};
