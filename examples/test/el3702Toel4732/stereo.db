record(ao,"$(P)Volume"){
  field(DESC, "Amplification gain of input data (Y)")
  field(VAL,  "10")
  field(EGU,  "No unit")
}

###############################################################################
##### Left Channel

# EL3702 ch 1
record(waveform,"$(P)ec$(MASTER_ID)-s$(SLAVE_AI)-EL3702_s$(NELM)-AI1-Array"){
  field(DESC, "$(HWTYPE): AI1: Value Array [$(NELM)]")
  field(PINI, "$(PINI=1)")
  field(DTYP, "$(DTYP=asynInt16ArrayIn)")
  field(INP,  "@asyn($(PORT),$(ADDR=0),$(TIMEOUT=1))T_SMP_MS=$(T_SMP_MS=1)/TYPE=asynInt16ArrayIn/ec$(MASTER_ID).s$(SLAVE_AI).mm.analogInputArray01?")
  field(FTVL, "$(FTVL=SHORT)")
  field(NELM, "$(NELM)")
  field(SCAN, "I/O Intr")
  field(TSE,  "$(TSE=-2)")
  field(FLNK, "$(P)LeftMoveData_.PROC")
}

# EL4732 ch1
record(waveform,"$(P)ec$(MASTER_ID)-s$(SLAVE_AO)-EL4732_s$(NELM)-AO1-Array"){
  field(DESC, "$(HWTYPE): AO1: Value Array [$(NELM)]")
  field(PINI, "$(PINI=1)")
  field(DTYP, "$(DTYP=asynInt16ArrayOut)")
  field(INP,  "@asyn($(PORT),$(ADDR=0),$(TIMEOUT=1))T_SMP_MS=$(T_SMP_MS=1)/TYPE=asynInt16ArrayOut/ec$(MASTER_ID).s$(SLAVE_AO).mm.analogOutputArray01=")
  field(FTVL, "$(FTVL=SHORT)")
  field(NELM, "$(NELM)")  
}

record(acalcout,"$(P)LeftMoveData_"){
  field(DESC, "Move data from EL3702 to EL4732")  
  field(INAA, "$(P)ec$(MASTER_ID)-s$(SLAVE_AI)-EL3702_s$(NELM)-AI1-Array.VAL")  
  field(INPA, "$(P)LeftGain.VAL")
  field(INPB, "$(P)LeftOffset.VAL")
  field(INPC, "$(P)Volume.VAL")
  field(CALC, "(C/200*A/100*AA+(B*3276.8))")
  field(OUT,  "$(P)ec$(MASTER_ID)-s$(SLAVE_AO)-EL4732_s$(NELM)-AO1-Array.VAL")
  field(FLNK, "$(P)ec$(MASTER_ID)-s$(SLAVE_AO)-EL4732_s$(NELM)-AO1-Array.PROC")
  field(NELM, "$(NELM)")  
}

record(ao,"$(P)LeftGain"){
  field(DESC, "Amplification gain of input data (Y)")
  field(VAL,  "100")
  field(EGU,  "No unit")
}

record(ao,"$(P)LeftOffset"){
  field(DESC, "Offset of input data (Y)")
  field(VAL,  "0")
  field(EGU,  "Volt")
}

###############################################################################
##### Right Channel

# EL3702 ch 2
record(waveform,"$(P)ec$(MASTER_ID)-s$(SLAVE_AI)-EL3702_s$(NELM)-AI2-Array"){
  field(DESC, "$(HWTYPE): AI2: Value Array [$(NELM)]")
  field(PINI, "$(PINI=1)")
  field(DTYP, "$(DTYP=asynInt16ArrayIn)")
  field(INP,  "@asyn($(PORT),$(ADDR=0),$(TIMEOUT=1))T_SMP_MS=$(T_SMP_MS=1)/TYPE=asynInt16ArrayIn/ec$(MASTER_ID).s$(SLAVE_AI).mm.analogInputArray02?")
  field(FTVL, "$(FTVL=SHORT)")
  field(NELM, "$(NELM)")
  field(SCAN, "I/O Intr")
  field(TSE,  "$(TSE=-2)")
  field(FLNK, "$(P)RightMoveData_.PROC")
}

# EL4732 ch1
record(waveform,"$(P)ec$(MASTER_ID)-s$(SLAVE_AO)-EL4732_s$(NELM)-AO2-Array"){
  field(DESC, "$(HWTYPE): AO2: Value Array [$(NELM)]")
  field(PINI, "$(PINI=1)")
  field(DTYP, "$(DTYP=asynInt16ArrayOut)")
  field(INP,  "@asyn($(PORT),$(ADDR=0),$(TIMEOUT=1))T_SMP_MS=$(T_SMP_MS=1)/TYPE=asynInt16ArrayOut/ec$(MASTER_ID).s$(SLAVE_AO).mm.analogOutputArray02=")
  field(FTVL, "$(FTVL=SHORT)")
  field(NELM, "$(NELM)")  
}

record(acalcout,"$(P)RightMoveData_"){
  field(DESC, "Move data from EL3702 to EL4732")  
  field(INAA, "$(P)ec$(MASTER_ID)-s$(SLAVE_AI)-EL3702_s$(NELM)-AI2-Array.VAL")  
  field(INPA, "$(P)RightGain.VAL")
  field(INPB, "$(P)RightOffset.VAL")
  field(INPC, "$(P)Volume.VAL")
  field(CALC, "(C/200*A/100*AA+(B*3276.8))")
  field(OUT,  "$(P)ec$(MASTER_ID)-s$(SLAVE_AO)-EL4732_s$(NELM)-AO2-Array.VAL")
  field(FLNK, "$(P)ec$(MASTER_ID)-s$(SLAVE_AO)-EL4732_s$(NELM)-AO2-Array.PROC")
  field(NELM, "$(NELM)")  
}

record(ao,"$(P)RightGain"){
  field(DESC, "Amplification gain of input data (Y)")
  field(VAL,  "100")
  field(EGU,  "No unit")
}

record(ao,"$(P)RightOffset"){
  field(DESC, "Offset of input data (Y)")
  field(VAL,  "0")
  field(EGU,  "Volt")
}

