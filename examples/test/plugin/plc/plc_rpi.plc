###############################################################################################
# For help on syntax, variables and functions, please read the file: "plcSyntaxHelp.plc"
#
# PLC Functionality Demo:
#   Test raspi plugin
#

if(plc${PLC_ID=0}.firstscan) {
  ${DBG=#}println('Config of Pins!');
  rpi_pinMode(0,1); # Set pin 0 to output
};

static.pinZeroValue:=not(static.pinZeroValue);
${DBG=#}println('Pin zero write value :  ',static.pinZeroValue);
static.before:=ec_get_time();
rpi_digitalWrite(0,static.pinZeroValue);
static.middle:=ec_get_time();
static.digRead:=rpi_digitalRead(0);
static.after:=ec_get_time();
${DBG=#}println('Pin zero read value  :  ',static.digRead, ', write exe time: ', static.middle-static.before, ', read exe time: ',static.after-static.middle);
static.test:=static.test+1;
${DBG=#}println('Total changes        :  ',static.test);
