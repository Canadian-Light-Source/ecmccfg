#General
EthercatMCConfigController ${ECMC_MOTOR_PORT}, "Cfg.CreateAxis(${ECMC_AXIS_NO},2)"
EthercatMCConfigController ${ECMC_MOTOR_PORT}, "Cfg.SetAxisTrajStartPos(${ECMC_AXIS_NO},0)"
EthercatMCConfigController ${ECMC_MOTOR_PORT}, "Cfg.LinkEcEntryToObject(${ECMC_EC_AXIS_HEALTH},"ax${ECMC_AXIS_NO}.health")"

#Trajectory
EthercatMCConfigController ${ECMC_MOTOR_PORT}, "Cfg.SetAxisEmergDeceleration(${ECMC_AXIS_NO},${ECMC_EMERG_DECEL})"
EthercatMCConfigController ${ECMC_MOTOR_PORT}, "Cfg.SetAxisVelAccDecTime(${ECMC_AXIS_NO},${ECMC_VELO},${ECMC_ACCL})"
EthercatMCConfigController ${ECMC_MOTOR_PORT}, "Cfg.SetAxisHomeVelTwordsCam(${ECMC_AXIS_NO},${ECMC_HOME_VEL_TO})"
EthercatMCConfigController ${ECMC_MOTOR_PORT}, "Cfg.SetAxisHomeVelOffCam(${ECMC_AXIS_NO},${ECMC_HOME_VEL_FRM})"

#Encoder
EthercatMCConfigController ${ECMC_MOTOR_PORT}, "Cfg.LinkEcEntryToObject(${ECMC_EC_ENC_ACTPOS},"ax${ECMC_AXIS_NO}.enc.actpos")"
EthercatMCConfigController ${ECMC_MOTOR_PORT}, "Cfg.SetAxisEncScaleDenom(${ECMC_AXIS_NO},${ECMC_ENC_SCALE_DENOM})"
EthercatMCConfigController ${ECMC_MOTOR_PORT}, "Cfg.SetAxisEncScaleNum(${ECMC_AXIS_NO},${ECMC_ENC_SCALE_NUM})"
EthercatMCConfigController ${ECMC_MOTOR_PORT}, "Cfg.SetAxisEncType(${ECMC_AXIS_NO},${ECMC_ENC_TYPE})"
EthercatMCConfigController ${ECMC_MOTOR_PORT}, "Cfg.SetAxisEncBits(${ECMC_AXIS_NO},${ECMC_ENC_BITS})"
EthercatMCConfigController ${ECMC_MOTOR_PORT}, "Cfg.SetAxisEncAbsBits(${ECMC_AXIS_NO},${ECMC_ENC_ABS_BITS})"
EthercatMCConfigController ${ECMC_MOTOR_PORT}, "Cfg.SetAxisEncOffset(${ECMC_AXIS_NO},${ECMC_ENC_ABS_OFFSET})"

#Monitor
EthercatMCConfigController ${ECMC_MOTOR_PORT}, "Cfg.LinkEcEntryToObject(${ECMC_EC_MON_LOWLIM},"ax${ECMC_AXIS_NO}.mon.lowlim")"
EthercatMCConfigController ${ECMC_MOTOR_PORT}, "Cfg.LinkEcEntryToObject(${ECMC_EC_MON_HIGHLIM},"ax${ECMC_AXIS_NO}.mon.highlim")"
EthercatMCConfigController ${ECMC_MOTOR_PORT}, "Cfg.LinkEcEntryToObject(${ECMC_EC_MON_HOME_SWITCH},"ax${ECMC_AXIS_NO}.mon.homesensor")"
EthercatMCConfigController ${ECMC_MOTOR_PORT}, "Cfg.LinkEcEntryToObject(${ECMC_EC_MON_EXT_INTERLOCK},"ax${ECMC_AXIS_NO}.mon.extinterlock")"
EthercatMCConfigController ${ECMC_MOTOR_PORT}, "Cfg.SetAxisMonAtTargetTol(${ECMC_AXIS_NO},${ECMC_MON_AT_TARGET_TOL})"
EthercatMCConfigController ${ECMC_MOTOR_PORT}, "Cfg.SetAxisMonAtTargetTime(${ECMC_AXIS_NO},${ECMC_MON_AT_TARGET_TIME})"
EthercatMCConfigController ${ECMC_MOTOR_PORT}, "Cfg.SetAxisMonEnableAtTargetMon(${ECMC_AXIS_NO},${ECMC_MON_AT_TARGET_ENA})"
EthercatMCConfigController ${ECMC_MOTOR_PORT}, "Cfg.SetAxisMonPosLagTol(${ECMC_AXIS_NO},${ECMC_MON_LAG_MON_TOL})"
EthercatMCConfigController ${ECMC_MOTOR_PORT}, "Cfg.SetAxisMonPosLagTime(${ECMC_AXIS_NO},${ECMC_MON_LAG_MON_TIME})"
EthercatMCConfigController ${ECMC_MOTOR_PORT}, "Cfg.SetAxisMonEnableLagMon(${ECMC_AXIS_NO},${ECMC_MON_LAG_MON_ENA})"
EthercatMCConfigController ${ECMC_MOTOR_PORT}, "Cfg.SetAxisMonMaxVel(${ECMC_AXIS_NO},${ECMC_MON_VELO_MAX})"
EthercatMCConfigController ${ECMC_MOTOR_PORT}, "Cfg.SetAxisMonEnableMaxVel(${ECMC_AXIS_NO},${ECMC_MON_VELO_MAX_ENA})"
EthercatMCConfigController ${ECMC_MOTOR_PORT}, "Cfg.SetAxisMonMaxVelDriveILDelay(${ECMC_AXIS_NO},${ECMC_MON_VELO_MAX_DRV_TIME})"
EthercatMCConfigController ${ECMC_MOTOR_PORT}, "Cfg.SetAxisMonMaxVelTrajILDelay(${ECMC_AXIS_NO},${ECMC_MON_VELO_MAX_TRAJ_TIME})"

EthercatMCCreateAxis(${ECMC_MOTOR_PORT}, "${ECMC_AXIS_NO}", "6", "stepSize=${ECMC_MRES}")

dbLoadRecords("$(EthercatMC_DB)EthercatMC.template", "PREFIX=$(ECMC_PREFIX), MOTOR_NAME=$(ECMC_MOTOR_NAME), R=$(ECMC_R), MOTOR_PORT=$(ECMC_MOTOR_PORT), ASYN_PORT=$(ECMC_ASYN_PORT), AXIS_NO=$(ECMC_AXIS_NO), DESC=$(ECMC_DESC), PREC=$(ECMC_PREC), VELO=$(ECMC_VELO), JVEL=$(ECMC_JOG_VEL), JAR=$(ECMC_JAR), ACCL=$(ECMC_ACCL), MRES=$(ECMC_MRES), RDBD=$(ECMC_MON_AT_TARGET_TOL), DLLM=$(ECMC_SOFT_LOW_LIM), DHLM=$(ECMC_SOFT_HIGH_LIM), HOMEPROC=$(ECMC_HOME_PROC)  $(ECMCAXISFIELDINIT)")
epicsEnvSet("ECMCAXISFIELDINIT",  "")

dbLoadRecords("$(EthercatMC_DB)EthercatMChome.template", "PREFIX=$(ECMC_PREFIX), MOTOR_NAME=$(ECMC_MOTOR_NAME), R=$(ECMC_R), MOTOR_PORT=$(ECMC_MOTOR_PORT), ASYN_PORT=$(ECMC_ASYN_PORT), AXIS_NO=$(ECMC_AXIS_NO),HOMEPROC=$(ECMC_HOME_PROC), HOMEPOS=$(ECMC_HOME_POS), HVELTO=$(ECMC_HOME_VEL_TO), HVELFRM=$(ECMC_HOME_VEL_FRM), HOMEACC=$(ECMC_HOME_ACC), HOMEDEC=$(ECMC_HOME_DEC)")

dbLoadRecords("$(ECMC_CONFIG_DB)ecmcExpression.db", "PORT=$(ECMC_ASYN_PORT),A=0,Index=$(ECMC_AXIS_NO),Name=$(ECMC_PREFIX)$(ECMC_MOTOR_NAME)")
